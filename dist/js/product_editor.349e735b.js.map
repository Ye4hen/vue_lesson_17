{"version":3,"file":"js/product_editor.349e735b.js","mappings":"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","sources":["webpack://homework-base-2/./src/views/ProductEditor.vue","webpack://homework-base-2/./src/views/ProductEditor.vue?5acb"],"sourcesContent":["<template>\r\n    <div class=\"editor\">\r\n        <div v-if=\"isLoading\" class=\"loading\">\r\n            <v-progress-circular indeterminate color=\"purple\"></v-progress-circular>\r\n        </div>\r\n        <div v-else-if=\"hasError\">Error</div>\r\n        <template v-else>\r\n            <div class=\"container\">\r\n                <div class=\"product-editor__item editor-item\">\r\n                    <img :src=\"product.image\" :alt=\"productTitle(product)\" />\r\n                    <v-text-field\r\n                        v-model=\"product.image\"\r\n                        :label=\"$t('productInputs.imageInput')\"\r\n                        :rules=\"rules\"\r\n                        hide-details=\"auto\"\r\n                    ></v-text-field>\r\n                </div>\r\n                <div class=\"product-editor__item editor-item\">\r\n                    <v-text-field\r\n                        v-model=\"product.name.ua\"\r\n                        :label=\"$t('productInputs.nameUaInput')\"\r\n                        :rules=\"rules\"\r\n                        hide-details=\"auto\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                        v-model=\"product.name.en\"\r\n                        :label=\"$t('productInputs.nameEnInput')\"\r\n                        :rules=\"rules\"\r\n                        hide-details=\"auto\"\r\n                    ></v-text-field>\r\n                </div>\r\n                <div class=\"product-editor__item editor-item\">\r\n                    <v-text-field\r\n                        v-model=\"product.price\"\r\n                        :label=\"$t('productInputs.priceInput')\"\r\n                        :rules=\"rules\"\r\n                        hide-details=\"auto\"\r\n                        type=\"number\"\r\n                    ></v-text-field>\r\n                </div>\r\n                <div class=\"product-editor__item editor-item\">\r\n                    <v-text-field\r\n                        v-model=\"product.brand\"\r\n                        :label=\"$t('productInputs.brandInput')\"\r\n                        :rules=\"rules\"\r\n                        hide-details=\"auto\"\r\n                        type=\"text\"\r\n                    ></v-text-field>\r\n                </div>\r\n                <div class=\"product-editor__item editor-item\">\r\n                    <v-text-field\r\n                        v-model=\"product.seller\"\r\n                        :label=\"$t('productInputs.sellerInput')\"\r\n                        :rules=\"rules\"\r\n                        hide-details=\"auto\"\r\n                        type=\"text\"\r\n                    ></v-text-field>\r\n                </div>\r\n                <div class=\"editor-actions actions\">\r\n                    <v-btn class=\"list-button\" elevation=\"8\" @click=\"onAction\">{{ buttonActionTitle }}</v-btn>\r\n                    <router-link :to=\"{ name: 'products' }\"\r\n                        ><v-btn class=\"list-button\" elevation=\"8\">{{\r\n                            $t('buttonActions.buttonCancel')\r\n                        }}</v-btn></router-link\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div v-if=\"errorMessage\" class=\"err-msg\">{{ errorMessage }}</div>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n    name: 'ProductEditor',\r\n\r\n    data() {\r\n        return {\r\n            product: {},\r\n            productImage: null,\r\n            errorMessage: null,\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        ...mapGetters('products', ['getItemById', 'hasError', 'isLoading']),\r\n        productId() {\r\n            return this.$route.params.productId\r\n        },\r\n        buttonActionTitle() {\r\n            if (this.$i18n.locale === 'ua') {\r\n                if (this.productId) return 'Зберегти'\r\n                else return 'Додати'\r\n            } else {\r\n                if (this.productId) return 'Save'\r\n                else return 'Add'\r\n            }\r\n        },\r\n        productTitle() {\r\n            return (product) => {\r\n                if (this.productId) {\r\n                    if (this.$i18n.locale === 'ua') {\r\n                        return product.name.ua\r\n                    } else return product.name.en\r\n                }\r\n            }\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.product = { ...this.getItemById(this.productId) }\r\n        this.loadList()\r\n        if (!this.productId) {\r\n            this.product.name = {\r\n                ua: '',\r\n                en: '',\r\n            }\r\n        }\r\n        console.log(this.product)\r\n    },\r\n\r\n    methods: {\r\n        ...mapActions('products', ['updateItem', 'addItem', 'loadList']),\r\n        // setProductImage() {},\r\n        onAction() {\r\n            const { name, image, price, brand, seller } = this.product\r\n\r\n            if (!name.en || !name.ua || !image || !price || !brand || !seller) {\r\n                if (this.$i18n.locale === 'ua') {\r\n                    return (this.errorMessage = 'Всі поля мусять бути заповнені')\r\n                } else return (this.errorMessage = 'All inputs should be filled')\r\n            }\r\n\r\n            this.errorMessage = null\r\n\r\n            const action = this.productId ? this.updateItem : this.addItem\r\n            const itemData = this.productId ? { itemId: this.product.id, data: this.product } : this.product\r\n\r\n            action(itemData)\r\n            this.$router.push({ name: 'products' })\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import { render } from \"./ProductEditor.vue?vue&type=template&id=5b135a48\"\nimport script from \"./ProductEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ProductEditor.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_ctx","isLoading","_hoisted_2","_createVNode","_component_v_progress_circular","indeterminate","color","hasError","_hoisted_3","_Fragment","key","_createElementVNode","_hoisted_4","_hoisted_5","src","$data","product","image","alt","$options","productTitle","_component_v_text_field","$event","label","$t","rules","_hoisted_7","name","ua","en","_hoisted_8","price","type","_hoisted_9","brand","_hoisted_10","seller","_hoisted_11","_component_v_btn","elevation","onClick","onAction","buttonActionTitle","_component_router_link","to","errorMessage","_hoisted_12","_toDisplayString","data","productImage","computed","mapGetters","productId","this","$route","params","$i18n","locale","created","getItemById","loadList","console","log","methods","mapActions","action","updateItem","addItem","itemData","itemId","id","$router","push","__exports__","render"],"sourceRoot":""}