"use strict";(self["webpackChunkhomework_base_2"]=self["webpackChunkhomework_base_2"]||[]).push([[289],{5273:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var l=r(3396),u=r(7139);const d={class:"editor"},o={key:0,class:"loading"},a={key:1},s={class:"container"},i={class:"product-editor__item editor-item"},n=["src","alt"],c={class:"product-editor__item editor-item"},p={class:"product-editor__item editor-item"},m={class:"product-editor__item editor-item"},h={class:"product-editor__item editor-item"},I={class:"editor-actions actions"},b={key:0,class:"err-msg"};function g(e,t,r,g,_,v){const V=(0,l.up)("v-progress-circular"),k=(0,l.up)("v-text-field"),w=(0,l.up)("v-btn"),f=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",d,[e.isLoading?((0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(V,{indeterminate:"",color:"purple"})])):e.hasError?((0,l.wg)(),(0,l.iD)("div",a,"Error")):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l._)("div",s,[(0,l._)("div",i,[(0,l._)("img",{src:_.product.image,alt:v.productTitle(_.product)},null,8,n),(0,l.Wm)(k,{modelValue:_.product.image,"onUpdate:modelValue":t[0]||(t[0]=e=>_.product.image=e),label:e.$t("productInputs.imageInput"),rules:e.rules,"hide-details":"auto"},null,8,["modelValue","label","rules"])]),(0,l._)("div",c,[(0,l.Wm)(k,{modelValue:_.product.name.ua,"onUpdate:modelValue":t[1]||(t[1]=e=>_.product.name.ua=e),label:e.$t("productInputs.nameUaInput"),rules:e.rules,"hide-details":"auto"},null,8,["modelValue","label","rules"]),(0,l.Wm)(k,{modelValue:_.product.name.en,"onUpdate:modelValue":t[2]||(t[2]=e=>_.product.name.en=e),label:e.$t("productInputs.nameEnInput"),rules:e.rules,"hide-details":"auto"},null,8,["modelValue","label","rules"])]),(0,l._)("div",p,[(0,l.Wm)(k,{modelValue:_.product.price,"onUpdate:modelValue":t[3]||(t[3]=e=>_.product.price=e),label:e.$t("productInputs.priceInput"),rules:e.rules,"hide-details":"auto",type:"number"},null,8,["modelValue","label","rules"])]),(0,l._)("div",m,[(0,l.Wm)(k,{modelValue:_.product.brand,"onUpdate:modelValue":t[4]||(t[4]=e=>_.product.brand=e),label:e.$t("productInputs.brandInput"),rules:e.rules,"hide-details":"auto",type:"text"},null,8,["modelValue","label","rules"])]),(0,l._)("div",h,[(0,l.Wm)(k,{modelValue:_.product.seller,"onUpdate:modelValue":t[5]||(t[5]=e=>_.product.seller=e),label:e.$t("productInputs.sellerInput"),rules:e.rules,"hide-details":"auto",type:"text"},null,8,["modelValue","label","rules"])]),(0,l._)("div",I,[(0,l.Wm)(w,{class:"list-button",elevation:"8",onClick:v.onAction},{default:(0,l.w5)((()=>[(0,l.Uk)((0,u.zw)(v.buttonActionTitle),1)])),_:1},8,["onClick"]),(0,l.Wm)(f,{to:{name:"products"}},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"list-button",elevation:"8"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,u.zw)(e.$t("buttonActions.buttonCancel")),1)])),_:1})])),_:1})])]),_.errorMessage?((0,l.wg)(),(0,l.iD)("div",b,(0,u.zw)(_.errorMessage),1)):(0,l.kq)("",!0)],64))])}r(560);var _=r(65),v={name:"ProductEditor",data(){return{product:{},productImage:null,errorMessage:null}},computed:{...(0,_.Se)("products",["getItemById","hasError","isLoading"]),productId(){return this.$route.params.productId},buttonActionTitle(){return"ua"===this.$i18n.locale?this.productId?"Зберегти":"Додати":this.productId?"Save":"Add"},productTitle(){return e=>{if(this.productId)return"ua"===this.$i18n.locale?e.name.ua:e.name.en}}},created(){this.product={...this.getItemById(this.productId)},this.loadList(),this.productId||(this.product.name={ua:"",en:""}),console.log(this.product)},methods:{...(0,_.nv)("products",["updateItem","addItem","loadList"]),onAction(){const{name:e,image:t,price:r,brand:l,seller:u}=this.product;if(!e.en||!e.ua||!t||!r||!l||!u)return"ua"===this.$i18n.locale?this.errorMessage="Всі поля мусять бути заповнені":this.errorMessage="All inputs should be filled";this.errorMessage=null;const d=this.productId?this.updateItem:this.addItem,o=this.productId?{itemId:this.product.id,data:this.product}:this.product;d(o),this.$router.push({name:"products"})}}},V=r(89);const k=(0,V.Z)(v,[["render",g]]);var w=k}}]);
//# sourceMappingURL=product_editor.349e735b.js.map